{% extends "base.html" %}
<p></p>
<p></p>
{% block content %}
<p></p>
<p></p>
{% load static %}
<p></p>
<p></p>
{% if user.is_authenticated %}
<script>
    function htmlDecode(str) {
        const doc = new DOMParser().parseFromString(str, "text/html");
        return doc.documentElement.textContent;
    }
</script>
<h1>Tables in Table_list</h1>

{% for df in data_frames %}
<table>
    {% for row, column in df.iterrows %}
    <tr>
        <td>{{row}}</td><td>{{column}}}</td>
    </tr>
    {% endfor %}
</table>
{% endfor %}

<script charset='charset="utf-8"'>
    var table = '{{table}}'
    var a = htmlDecode(table)
    console.log('is this code reacheable?')
    console.log(table.constructor.name)
    var b = table.split('},')
    console.table(htmlDecode(b));
</script>{% empty %}
<p></p>
<p></p>
{% endfor %}
<p></p>
<p></p>

<br>
<a href="{% url 'pdf_list' %}" class="w3-btn w3-black">Back to pdf list</a>
<br>
{% endif %}
{% endblock content %}